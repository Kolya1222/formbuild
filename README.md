# FormBuilder для FormLister/Sender

Модуль для формирования форм и запросов к FormLister/Sender, призванный частично автоматизировать формирование параметров для FormLister.

## Описание

По своей сути модуль не сложный - я (и нейросеть) старался сделать его максимально внутренне понятным.

## Возможности

### Создание формы
- Формировать структуру формы можно:
  - Перетаскиванием нужных полей в область конструирования
  - Нажатием кнопок "Добавить поле"

### Настройка полей
При добавлении поля появляется окно редактирования с параметрами:
- Часть параметров автоматически применяется в формировании правил для FormLister
- Для каждого типа поля есть свои специфические параметры
- Можно изменять тип поля после создания через выпадающий список "Тип поля"
- **Минимальный набор полей формируется автоматически**, если параметры не указаны

### Управление полями
- Перетаскивание для изменения порядка полей
- Редактирование и удаление созданных ячеек
- Автоматическое формирование промежуточных результатов при изменениях

### Настройки формы
- Указание ID формы для FormLister
- Изменение типа отправки (POST/GET)
- Назначение action
- Указание email для параметра "to" в FormLister
- Дополнительные опции:
  - Работа с файлами
  - Формирование запроса для FormSender (создает запрос в новом формате)

### Результаты работы
Модуль предоставляет три вида результатов:
1. HTML разметка для Blade шаблона
2. PHP фрагмент для размещения в Контроллере (в setData)
3. Визуализация формы с минимальной валидацией

При использовании опции "без перезагрузки" cформируйте отдельный PHP файл для FormSender (путь: `/core/custom/forms/ID_формы.php`)

## Техническая реализация

Модуль практически полностью работает на JS и состоит из 5 основных файлов:

1. **Main.js** - инициализация, глобальные функции, управление tooltip, обработка кастомного select
2. **render-form.js** - формирование результатов:
   - `htmlOutput` - HTML разметка
   - `paramsOutput` - PHP код
   - `previewOutput` - демонстрация формы
   - обработка статусов и валидации
3. **FormSettings.js** - модальное окно настроек поля
4. **drag-drop.js** - логика перетаскивания полей
5. **control-field.js** - работа с полями (добавление, удаление, создание, tooltip)

## Важно

- Модуль не имеет обязательных полей
- При работе с файлами необходимо явно указывать наличие файловых полей в форме
- Это инструмент для разработчиков, который можно дорабатывать под свои нужды

## Заключение

Это не полноценный модуль, а инструмент для разработчика, который может помочь:
- В обучении работе с FormLister/Sender
- В уменьшении рутинной работы при создании форм

# Установка
Выполните команды из директории `/core`:
1. Установка пакета
```
php artisan package:installrequire kolya1222/formbuildevo "*"
```
2. Публикация стилей и скриптов
```
php artisan vendor:publish --provider="Kolya1222\Formbuild\FormbuildServiceProvider"
```
